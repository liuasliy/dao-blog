{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.87415da8cb968eafe56c.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Link from 'next/link';\r\nimport Layout from '../components/Layout';\r\n\r\nimport Fetch from '../utils/axios';\r\nimport {api} from '../utils/api'\r\nimport fetch from 'isomorphic-unfetch';\r\n\r\nconst Index = (props) => (\r\n    <Layout>\r\n        {/* <ul>\r\n            {\r\n                props.shows.map(({show})=>{\r\n                    return(\r\n                        <li key={show.id}>\r\n                            <Link as={`/article/detail/${show.id}`} href={`/detail?id=${show.id}`}>\r\n                                <a>{show.title}</a>\r\n                            </Link>\r\n                        </li>\r\n                    )\r\n                })\r\n            }\r\n            \r\n        </ul> */}\r\n        <div className=\"d-home\">\r\n            <div className=\"d-wrap\">\r\n                {\r\n                    props.posts.map((item, indexs) => {\r\n                        return <article key={indexs}>\r\n                            <h3 className=\"d-title\">\r\n                                <Link as={`/article/detail/${item.id}`} href={`/detail?id=${item.id}`}>\r\n                                    <a><span>{item.title}</span></a>\r\n                                </Link>\r\n                            </h3>\r\n                            <div className=\"d-content\">\r\n                                {item.brief}\r\n                            </div>\r\n                            <div className=\"d-intro\">\r\n                                <span className=\"d-date\">{item.pubdate}</span>\r\n                                <span className=\"d-tags\">\r\n                                    {\r\n                                        item.tags.map((items, index) => {\r\n                                            return \r\n                                            <Link as={`/article/detail/${item.id}`} href={`/detail?id=${item.id}`}>\r\n                                                <a key={index} data-url={'/tag/' + items} onClick={this.router}>{items}</a>\r\n                                            </Link>\r\n                                        })\r\n                                    }\r\n                                </span>\r\n                                <span className=\"d-view-num\">阅读:{item.read_count}</span>\r\n                            </div>\r\n                        </article>\r\n                    })\r\n                }\r\n                {\r\n                    this.state.isComplete ? <div className=\"load-more\">已经没有更多数据啦~</div> : <LoadMore isLoadingMore={this.state.isLoadingMore} loadMoreFn={this.loadMoreData.bind(this)} />\r\n                }\r\n\r\n            </div>\r\n            <style jsx>\r\n                {`\r\n                body {\r\n                    background-color: #f7f7f7;\r\n                }\r\n                \r\n                .d-home {\r\n                    max-width: 1170px;\r\n                    margin: .8rem auto 0;\r\n                    min-height: 100vh;\r\n                    background: #fff;\r\n                    padding-top: .50rem;\r\n                }\r\n                \r\n                .d-wrap {\r\n                    width: 780px;\r\n                    margin: 0 auto;\r\n                    padding-bottom: 1.2rem;\r\n                }\r\n                \r\n                article {\r\n                    margin-bottom: 1.2rem;\r\n                    position: relative;\r\n                }\r\n                \r\n                article::after {\r\n                    content: \"\";\r\n                    display: block;\r\n                    width: 50%;\r\n                    margin: 0 auto;\r\n                    height: 1px;\r\n                    background: #ddd;\r\n                    position: absolute;\r\n                    bottom: -.6rem;\r\n                    left: 0;\r\n                    right: 0;\r\n                }\r\n                \r\n                article:last-child::after {\r\n                    height: 0;\r\n                }\r\n                \r\n                .d-title {\r\n                    font-weight: normal;\r\n                    font-size: .32rem;\r\n                    margin: 0;\r\n                    padding: 0;\r\n                    margin-bottom: .2rem;\r\n                }\r\n                \r\n                .d-title a {\r\n                    color: #333;\r\n                    text-decoration: none;\r\n                    cursor: pointer;\r\n                }\r\n                \r\n                .d-title a span {\r\n                    padding-bottom: 3px;\r\n                    -webkit-transition: 0.15s;\r\n                    transition: 0.15s;\r\n                    box-shadow: inset 0 -2px 0 rgba(63, 81, 181, 0);\r\n                }\r\n                \r\n                .d-title a:hover span {\r\n                    box-shadow: inset 0 -2px 0 rgba(63, 81, 181, 0.6);\r\n                }\r\n                \r\n                .d-content {\r\n                    font-size: .16rem;\r\n                    line-height: .26rem;\r\n                    margin-bottom: .15rem;\r\n                }\r\n                \r\n                .d-intro {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    font-size: .14rem;\r\n                    color: #666;\r\n                }\r\n                \r\n                .d-date {}\r\n                \r\n                .d-tags {\r\n                    flex: 1;\r\n                    margin-left: .15rem;\r\n                    position: relative;\r\n                    padding-left: .25rem;\r\n                }\r\n                \r\n                .d-tags a {\r\n                    display: inline-block;\r\n                    cursor: pointer;\r\n                }\r\n                \r\n                .d-tags a:hover {\r\n                    color: #000\r\n                }\r\n                \r\n                .d-tags a+a:before {\r\n                    content: \"/\";\r\n                    margin: 0 .05rem;\r\n                }\r\n                \r\n                .d-tags::before {\r\n                    content: \"\";\r\n                    display: block;\r\n                    width: .20rem;\r\n                    height: .20rem;\r\n                    background: url('../../images/icon-tag.png') no-repeat;\r\n                    background-size: .20rem .20rem;\r\n                    position: absolute;\r\n                    left: 0;\r\n                    top: .01rem;\r\n                }\r\n                \r\n                .d-view-num {\r\n                    position: relative;\r\n                    padding-left: .25rem;\r\n                }\r\n                \r\n                .d-view-num::before {\r\n                    content: \"\";\r\n                    display: block;\r\n                    width: .20rem;\r\n                    height: .20rem;\r\n                    background: url('../../images/icon-view.png') no-repeat;\r\n                    background-size: .20rem .20rem;\r\n                    position: absolute;\r\n                    left: 0;\r\n                    top: 0;\r\n                }\r\n                \r\n                .load-more {\r\n                    text-align: center;\r\n                    font-size: .16rem;\r\n                    background: #eee;\r\n                    padding: .10rem 0;\r\n                }\r\n                `}\r\n            </style>\r\n        </div>\r\n    \r\n    </Layout>\r\n);\r\n\r\nIndex.getInitialProps = async function () {\r\n    // const res = await fetch('https://api.tvmaze.com/search/shows?q=marvel');\r\n    // const res = await Fetch({\r\n    //     url: api.blog_list+`?page_size=10&page=${1}`,\r\n    //     type: 'get',\r\n    // })\r\n    // .then(res => {\r\n    //     const { code, data } = res.data;\r\n    //     if (code === '0') {\r\n    //         this.setState({\r\n    //             listData: data.list,\r\n    //             totalPage: data.totalPage\r\n    //         })\r\n    //     }\r\n\r\n    // })\r\n    const res = await fetch('http://127.0.0.1:8000/api/blog_list');\r\n    const data = await res.json();\r\n    return {\r\n        posts: data.data.list\r\n    }\r\n\r\n}\r\n\r\nexport default Index;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAgBA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AAGA;AAGA;AAAA;AAAA;AAAA;AAAA;AA/BA;AAAA;AAhBA;AACA;AAmMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAgBA;AAhBA;AAAA;AACA;AADA;AAiBA;AAjBA;AAmBA;AADA;AACA;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;;;;A","sourceRoot":""}